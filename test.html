<!-- FILEPATH: c:\Users\gmjbs\Desktop\koding\static\TrendPolarStatic\test.html -->

<!DOCTYPE html>
<html>
<head>
    <title>Chart.js Example</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <canvas id="myChart"></canvas>
    <script>
        fetch('https://data.ssb.no/api/v0/dataset/1086.csv?lang=no')
            .then(response => response.text())
            .then(data => {
                const labels = [];
                const values = [];
                const rows = data.split('\n').slice(1);
                rows.forEach(row => {
                    const cols = row.split(';');
                    labels.push(cols[0]);
                    values.push(parseFloat(cols[1].replace(',', '.')));
                });
                const ctx = document.getElementById('myChart').getContext('2d');
                const chart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: 'Example Chart',
                            data: values,
                            borderColor: 'rgb(255, 99, 132)',
                            fill: false
                        }]
                    },
                    options: {}
                });
            });
    </script>
</body>
</html>
